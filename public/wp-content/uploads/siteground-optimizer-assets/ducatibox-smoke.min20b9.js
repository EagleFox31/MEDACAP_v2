const PARTICLE_COUNT=5,MAX_VELOCITY=.7,CANVAS_WIDTH=1920,CANVAS_HEIGHT=400;class Particle{constructor(a){this.x=0,this.y=0,this.xVelocity=0,this.yVelocity=0,this.radius=5,this.context=a}draw(){if(this.image){this.context.drawImage(this.image,this.x-128,this.y-128);return}this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.context.fillStyle="rgba(225, 211, 255, 0.50)",this.context.fill(),this.context.closePath()}update(){this.x+=this.xVelocity,this.y+=this.yVelocity,(this.x>=CANVAS_WIDTH||this.x<=0)&&(this.xVelocity=-this.xVelocity),(this.y>=CANVAS_HEIGHT||this.y<=0)&&(this.yVelocity=-this.yVelocity)}setPosition(a,b){this.x=a,this.y=b}setVelocity(a,b){this.xVelocity=a,this.yVelocity=b}setImage(a){this.image=a}}function generateRandom(a,b){return Math.random()*(b-a)+a}function init(a){a.width=CANVAS_WIDTH,a.height=CANVAS_HEIGHT;const b=a.getContext('2d'),c=[];for(let d=0;d<PARTICLE_COUNT;d++){const a=new Particle(b);a.setPosition(generateRandom(0,CANVAS_WIDTH),generateRandom(0,CANVAS_HEIGHT)),a.setVelocity(generateRandom(-MAX_VELOCITY,MAX_VELOCITY),generateRandom(-MAX_VELOCITY,MAX_VELOCITY)),c.push(a)}loadAndAnimateImage(c,b)}function loadAndAnimateImage(b,c){const a=new Image;a.onload=function(){b.forEach(b=>{b.setImage(a)}),animate(b,c)},a.src="https://rawgit.com/marcobiedermann/playground/master/three.js/smoke-particles/dist/assets/images/clouds.png"}function draw(b,a){a.fillStyle="rgba(0, 0, 0, 0.5)",a.fillRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT),b.forEach(a=>{a.draw()})}function update(a){a.forEach(a=>{a.update()})}function animate(a,b){update(a),draw(a,b),requestAnimationFrame(()=>animate(a,b))}document.addEventListener("DOMContentLoaded",()=>{const a=document.querySelectorAll('.smoke-canvas');a.forEach(a=>{init(a)})})