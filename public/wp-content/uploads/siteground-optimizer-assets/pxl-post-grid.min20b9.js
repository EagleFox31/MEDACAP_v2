(function(a){"use strict";var b,c;a.sep_grid_refresh=function(){a('.pxl-grid-masonry').each(function(){var b=new Isotope(this,{itemSelector:'.pxl-grid-item',layoutMode:a(this).closest('.pxl-grid').attr('data-layout'),percentPosition:!0,masonry:{columnWidth:'.grid-sizer'},containerStyle:null,stagger:30,sortBy:'name'}),d=a(this).parent().find('.pxl-grid-filter'),c,e,f;d.on('click',function(a){var c=a.target.getAttribute('data-filter');b.arrange({filter:c})}),c=a(this).parent().find('.filter-item'),c.on('click',function(b){c.removeClass('active'),a(this).addClass('active')}),e=a(this).parent().find('.pxl-grid-filter'),e.change(function(){var c=a(this).val();b.arrange({filter:c})}),f=a(this).parent().find('.pxl-grid-filter'),f.change(function(){var c=a(this).val();c=='asc'&&b.arrange({sortAscending:!1}),c=='des'&&b.arrange({sortAscending:!0})})})},b=function(a,b){a.find('.pxl-grid-masonry').imagesLoaded(function(){b.sep_grid_refresh()})},a(document).on('click','.pxl-load-more',function(){var c=a(this).data('loadmore'),d=c.perpage,b=a(this).parents(".pxl-grid"),e=b.data('layout'),f=a(this).data('loading-text'),g=a(this).data('loadmore-text');c.paged=parseInt(b.data('start-page'))+1,a(this).addClass('loading'),a(this).find('.pxl-btn-icon').addClass('loading'),a(this).find('.pxl-btn-text').text(f),a.ajax({url:main_data.ajax_url,type:'POST',beforeSend:function(){},data:{action:'ducatibox_load_more_post_grid',settings:c}}).done(function(c){c.data.posts.length>0&&(b.find('.pxl-grid-inner').append(c.data.html),e=='masonry'&&a.sep_grid_refresh()),c.data.posts.length>d?b.data('start-page',c.data.paged):b.find('.btn').hide()}).fail(function(a){return b.find('.btn').hide(),!1}).always(function(){return!1})}),a(document).on('click','.pxl-grid-pagination .ajax a.page-numbers',function(){var b=a(this).parents(".pxl-grid"),d=b.find(".pxl-grid-pagination").data('loadmore'),e=b.find(".pxl-grid-pagination").data('query'),f=b.data('layout'),c=a(this).attr('href'),g;return c=c.replace('#',''),d.paged=parseInt(c),e.paged=parseInt(c),g=d.pagin_align_cls,a('html,body').animate({scrollTop:b.offset().top-100},750),a.ajax({url:main_data.ajax_url,type:'POST',beforeSend:function(){},data:{action:'ducatibox_get_pagination_html',query_vars:e,cls:g}}).done(function(a){a.status==!0?b.find(".pxl-grid-pagination").html(a.data.html):a.status==!1}).fail(function(a){return!1}).always(function(){return!1}),a.ajax({url:main_data.ajax_url,type:'POST',beforeSend:function(){},data:{action:'ducatibox_load_more_post_grid',settings:d}}).done(function(c){c.status==!0?(b.find('.pxl-grid-inner .pxl-grid-item').remove(),b.find('.pxl-grid-inner').append(c.data.html),b.data('start-page',c.data.paged),f=='masonry'&&a.sep_grid_refresh()):c.status==!1}).fail(function(a){return!1}).always(function(){return!1}),!1}),c=function(b,a){a('.pxl-product-grid .pxl-grid-masonry').imagesLoaded(function(){a.sep_grid_refresh()})},a(document).on('click','.btn-product-grid-loadmore',function(){var c=a(this).parents('.pxl-load-more').data('loadmore'),b=a(this).parents(".pxl-grid"),f=b.data('layout-mode'),d=a(this).parents('.pxl-load-more').data('loading-text'),e=a(this).parents('.pxl-load-more').data('loadmore-text');c.paged=parseInt(b.data('start-page'))+1,a(this).addClass('loading'),a(this).find('.btn-text').text(d),a.ajax({url:main_data.ajax_url,type:'POST',beforeSend:function(){},data:{action:'ducatibox_load_more_product_grid',settings:c}}).done(function(c){c.status==!0?(b.find('.btn-product-grid-loadmore').removeClass('loading'),b.find('.pxl-grid-inner').append(c.data.html),b.data('start-page',c.data.paged),b.find('.btn-text').text(e),a.sep_grid_refresh(),c.data.paged>=c.data.max&&b.find('.pxl-load-more').hide()):b.find('.pxl-load-more').hide()}).fail(function(a){return b.find('.pxl-load-more').hide(),!1}).always(function(){return!1})}),a(document).on('click','.pxl-grid-pagination.pagin-product .ajax a.page-numbers',function(){var b=a(this).parents(".pxl-grid"),g=b.data('layout-mode'),d=b.find(".pxl-grid-pagination").data('loadmore'),e=b.find(".pxl-grid-pagination").data('query'),h=b.data('layout'),c=a(this).attr('href'),f;return c=c.replace('#',''),d.paged=parseInt(c),e.paged=parseInt(c),f=d.pagin_align_cls,a('html,body').animate({scrollTop:b.offset().top-100},750),a.ajax({url:main_data.ajax_url,type:'POST',beforeSend:function(){},data:{action:'ducatibox_get_pagination_html',query_vars:e,cls:f}}).done(function(a){a.status==!0?b.find(".pxl-grid-pagination").html(a.data.html):a.status==!1}).fail(function(a){return!1}).always(function(){return!1}),a.ajax({url:main_data.ajax_url,type:'POST',beforeSend:function(){},data:{action:'ducatibox_load_more_product_grid',settings:d}}).done(function(c){c.status==!0?(b.find('.pxl-grid-inner').html(c.data.html),b.data('start-page',c.data.paged),a.sep_grid_refresh()):c.status==!1}).fail(function(a){return!1}).always(function(){return!1}),!1}),a(window).on('elementor/frontend/init',function(){elementorFrontend.hooks.addAction('frontend/element_ready/pxl_post_grid.default',b),elementorFrontend.hooks.addAction('frontend/element_ready/pxl_team_grid.default',b),elementorFrontend.hooks.addAction('frontend/element_ready/pxl_product_grid.default',b)})})(jQuery)